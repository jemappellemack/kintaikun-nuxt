(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{257:function(t,e,n){"use strict";n.r(e);var o=n(34),component=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav",{staticClass:"navbar is-light",attrs:{role:"navigation","aria-label":"main navigation"}},[this._m(0),this._v(" "),e("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[e("div",{staticClass:"navbar-start"},[e("NuxtLink",{staticClass:"navbar-item",attrs:{to:"/"}},[this._v("勤怠くん")]),this._v(" "),e("NuxtLink",{staticClass:"navbar-item",attrs:{to:"/timestamp"}},[this._v("打刻")]),this._v(" "),e("NuxtLink",{staticClass:"navbar-item",attrs:{to:"/works"}},[this._v("一覧")])],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-brand"},[e("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"}},[e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}}),this._v(" "),e("span",{attrs:{"aria-hidden":"true"}})])])}],!1,null,null,null);e.default=component.exports},269:function(t,e){},270:function(t,e,n){"use strict";n.r(e);var o=n(28),r=n(89),l=Object(o.defineComponent)({props:{showModal:{type:Boolean,default:!1},dateString:{type:String,default:""}},setup:function(t,e){var n=Object(o.inject)(r.a);if(!n)throw new Error("".concat(r.a," is not provided"));return{state:n,emitSave:function(){var o=n.getKintaiCalendarState(t.dateString);o.status="applying",n.setKintaiCalendarState(o.dateString,o),e.emit("close")},emitClose:function(){e.emit("close")}}}}),c=n(34),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal",class:{"is-active":t.showModal}},[n("div",{staticClass:"modal-background",on:{click:t.emitClose}}),t._v(" "),n("div",{staticClass:"modal-card"},[t._m(0),t._v(" "),n("section",{staticClass:"modal-card-body"},[n("h4",[t._v("承認申請しますか？")]),t._v(" "),n("p",[t._v(t._s(t.dateString))])]),t._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button",on:{click:t.emitClose}},[t._v("キャンセル")]),t._v(" "),n("button",{staticClass:"button is-success",on:{click:t.emitSave}},[t._v("申請する")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[this._v("承認申請")]),this._v(" "),e("button",{staticClass:"delete",attrs:{"aria-label":"close"}})])}],!1,null,null,null);e.default=component.exports},310:function(t,e){},311:function(t,e){},314:function(t,e,n){"use strict";n.r(e);n(84),n(32),n(271),n(273),n(17),n(59),n(258),n(274),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303);var o=n(28),r=n(89),l=n(304),c=n(305),d=n(41),v=n(160),_=n(158),h=n(159),m=n(81),f=n(125),S=n(261),C=n(270),y=Object(o.defineComponent)({components:{KintaiApplyModal:C.default},setup:function(){Object(d.a)(new Date,"yyyy-MM-dd");var t=Object(o.inject)(r.a);if(!t)throw new Error("".concat(r.a," is not provided"));var e=Object(o.computed)((function(){var e,n,o,r=t.getTargetCalendarMonthState();return e=r,n=Object(_.a)(e),o=Object(h.a)(e),Object(v.a)({start:n,end:o}).map((function(t){return{date:t,year:Object(d.a)(t,"yyyy"),month:Object(d.a)(t,"MM"),day:Object(d.a)(t,"dd"),week:Object(d.a)(t,"EEEEEE"),dateString:Object(d.a)(t,"yyyy-MM-dd")}}))})),n=Object(o.computed)((function(){return Object(d.a)(t.getTargetCalendarMonthState(),"y年M月度")})),C=Object(o.computed)((function(){var e=t.getTargetCalendarMonthState();return!(Object(S.a)(e,new Date)<0)})),y=Object(o.computed)((function(){var e=t.getTargetCalendarMonthState();return!(Object(S.a)(e,new Date)>0)}));return{state:t,downloadAsExcelFile:function(){for(var e=document.getElementById("kintaitable"),n=c.utils.table_to_book(e),o=c.write(n,{bookType:"xlsx",bookSST:!0,type:"binary"}),r=new ArrayBuffer(o.length),view=new Uint8Array(r),i=0;i!==o.length;++i)view[i]=255&o.charCodeAt(i);var v=t.getTargetCalendarMonthState(),_=Object(d.a)(v,"y年M月度勤怠");Object(l.saveAs)(new Blob([r],{type:"application/octet-stream"}),"".concat(_,".xlsx"))},goBackMonth:function(){var e=t.getTargetCalendarMonthState();t.setTargetCalendarMonthState(Object(f.a)(e,1))},goNextMonth:function(){var e=t.getTargetCalendarMonthState();t.setTargetCalendarMonthState(Object(m.a)(e,1))},startTime:function(e){var n=t.getKintaiCalendarState(e);return n.startString?n.startString:null},endTime:function(e){var n=t.getKintaiCalendarState(e);return n.endString?n.endString:null},workingTime:function(e){var n,o=t.getKintaiCalendarState(e);return o.duration?"".concat(o.duration.hours,":").concat(null===(n=o.duration.minutes)||void 0===n?void 0:n.toString().padStart(2,"0")):null},openKintaiApplyModal:function(e){t.setKintaiApplyModalState({showModal:!0,dateString:e})},closeKintaiApplyModal:function(){t.setKintaiApplyModalState({showModal:!1,dateString:""})},showKintaiApplyModalButton:function(e){return!!t.getKintaiCalendarState(e).status},dateString:function(){return t.getKintaiApplyModalState().dateString},showModal:function(){return t.getKintaiApplyModalState().showModal},calendars:e,yearMonth:n,showBackButton:C,showNextButton:y}}}),w=n(34),component=Object(w.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("KintaiApplyModal",{attrs:{dateString:t.dateString(),showModal:t.showModal()},on:{close:t.closeKintaiApplyModal}}),t._v(" "),n("Navigation"),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"columns mt-5"},[n("div",{staticClass:"column has-text-right"},[n("button",{staticClass:"button is-primary",on:{click:t.downloadAsExcelFile}},[t._v("ダウンロード")])])]),t._v(" "),n("div",{staticClass:"columns mt-5"},[n("div",{staticClass:"column has-text-left"},[t.showBackButton?n("button",{staticClass:"button is-link",attrs:{block:""},on:{click:t.goBackMonth}},[t._v("前月へ")]):t._e()]),t._v(" "),n("div",{staticClass:"column has-text-centered"},[n("h4",[t._v(t._s(t.yearMonth))])]),t._v(" "),n("div",{staticClass:"column has-text-right"},[t.showNextButton?n("button",{staticClass:"button is-link",attrs:{block:""},on:{click:t.goNextMonth}},[t._v("翌月へ")]):t._e()])]),t._v(" "),n("div",{staticClass:"mt-6 mb-6"},[n("table",{staticClass:"table is-bordered is-fullwidth has-text-centered",attrs:{id:"kintaitable"}},[n("thead",[n("tr",[n("th",[t._v("\n                "+t._s(t.yearMonth)+"\n              ")]),t._v(" "),n("th",[t._v("勤務区分")]),t._v(" "),n("th",[t._v("出勤時刻")]),t._v(" "),n("th",[t._v("退勤時刻")]),t._v(" "),n("th",[t._v("稼働時間")]),t._v(" "),n("th",[t._v("休憩時間")]),t._v(" "),n("th",[t._v("承認申請")])])]),t._v(" "),n("tbody",t._l(t.calendars,(function(e){return n("tr",{key:e.dateString},[n("td",[n("p",{style:{color:("Sa"===e.week?"blue":"")||("Su"===e.week?"red":"")}},[t._v(t._s(e.day))]),t._v(" "),n("p",{style:{color:("Sa"===e.week?"blue":"")||("Su"===e.week?"red":"")}},[t._v(t._s(e.week))])]),t._v(" "),n("td",[n("p",{style:{color:("Sa"===e.week?"blue":"")||("Su"===e.week?"red":"")}},[t._v(t._s("Sa"===e.week||"Su"===e.week?"休日":"稼働"))])]),t._v(" "),n("td",[n("span",[t._v(t._s(t.startTime(e.dateString)))])]),t._v(" "),n("td",[n("span",[t._v(t._s(t.endTime(e.dateString)))])]),t._v(" "),n("td",[n("span",[t._v(t._s(t.workingTime(e.dateString)))])]),t._v(" "),n("td",[t._v("\n                "+t._s("Sa"===e.week||"Su"===e.week?"0:00":"1:00")+"\n              ")]),t._v(" "),t.showKintaiApplyModalButton(e.dateString)?t._e():n("td",[n("button",{staticClass:"button is-link",attrs:{block:""},on:{click:function(n){return t.openKintaiApplyModal(e.dateString)}}},[t._v("申請")])]),t._v(" "),t.showKintaiApplyModalButton(e.dateString)?n("td",[t._v("申請中")]):t._e()])})),0)])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{KintaiApplyModal:n(270).default,Navigation:n(257).default})}}]);